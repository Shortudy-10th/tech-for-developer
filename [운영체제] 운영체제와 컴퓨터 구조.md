# 운영체제 운영체제와 컴퓨터 구조

<details>

<summary>❓ 커널에 대해 설명하고, 커널의 역할에 대해 말해주세요</summary>

### ❓ 커널에 대해 설명하고, 커널의 역할에 대해 말해주세요

<img src="https://github.com/Shortudy-10th/tech-for-developer/assets/64778589/014bb48b-7f3a-4f8f-97c9-b65b519b8e10" width="380">

* 커널은 운영체제의 핵심요소 중 하나이다.
* 항상 메모리에 올라와 있다.
* 하드웨어와 응용 프로그램 간 인터페이스 역할을 한다.
* 컴퓨터 시스템의 모든 활동과 자원을 관리하는 일을 한다.
<br></br>

### ❓ 커널의 구성에 대해 말해주세요.
  |커널||
  |:---:|:---|
  |단일형 구조 커널(Monolithic Architecture)|- 초창기 운영체제의 구조 <br> - 커널의 핵심 기능을 구현하는 모듈의 구분 없이 하나로 구성 <br> - 모듈 간 통신 비용이 줄어듦 <br> - 버그나 오류 처리 어려움, 이식성 낮음|
  |계층형 구조 커널(Layered Architecture)|- 비슷한 기능을 가진 모듈을 묶어 하나의 계층으로 만듦 <br> - 계층 간 통신을 통해 운영체제 구현 <br> - 버그나 오류 처리, 디버깅하기 더 쉬움|
  |마이크로 구조 커널(Micro Architecture)|- 운영체제의 가장 기본적인 기능만 제공 <br> - 모듈은 세분화되어 존재하며, 모듈 간 정보 교환은 프로세스 간 통신을 통해 이루어짐|

**커널은 어떻게 기능을 구현하는지에 따라 종류가 다르다.**

</details>

<br>

---

</br>

<details>

<summary>❓ 하드웨어에서 인터럽트가 발생하는 경우, 운영체제에서 인터럽트를 처리하는 과정에 대해 설명해주세요.</summary>

## 인터럽트
인터럽트란 마이크로프로세서(CPU)가 프로그램을 실행하고 있을 때, 입출력 요구 등 어떤 이벤트가 발생하여 실행 중인 작업을 멈추고, 운영체제가 그 이벤트를 처리하도록 돕는 것이다.

→ 인터럽트는 운영체제에서 가장 중요한 작업 중 하나로, 특별한 작업을 필요로 하거나 시스템 상태 변화에 빠르게 대응할 수 있는 매커니즘을 제공한다.

## 인터럽트의 종류
![image](https://github.com/Shortudy-10th/tech-for-developer/assets/70586307/803df1ef-5e58-4f11-8a80-fd7b5b528355)

* 하드웨어 인터럽트
  * 하드웨어 장치(키보드, 마우스)나 Timer 등에서 발생
  * 인터럽트가 시스템 버스를 통해 전달된다.
* 소프트웨어 인터럽트
  * system call로써 구현된다.
  * 인터럽트 요청 신호에 따라 수행하는 루틴이 인터럽트 처리 프로그램, 즉 ISR 인터럽트 서비스 루틴이다.
  * 프로그램이 돌다가 인터럽트 발생 시 발생 전에 실행 중인 그 정보를 저장하고 있어야(스택 영역에) 다음에 다시 돌아와서 이전 프로그램을 실행할 수 있다.
 
## 인터럽트 처리 과정
![image](https://github.com/Shortudy-10th/tech-for-developer/assets/70586307/a72129ef-b923-47ee-a1cb-b9483156fa97)
1. 명령어 실행단계를 마칠 때마다 cpu는 반복적으로 인터럽트 요청이 있는지 확인한다.
2. 인터럽트가 발생하면, 현재 진행 중인 기계어 코드를 완료한다.
3. CPU의 특수레지스터 중, 하이로인터럽트 마스크 비트를 보고 마스크 되면 인터럽트를 무시한다.
4. 인터럽트 벡터를 읽고, ISR(인터럽트 서비스 루틴, 인터럽트 핸들러)주소값을 얻는다.
5. ISR로 점프 한다. 이때 PC(Program Counter, IP) 값은 자동 대피 저장이다.
6. 현재 진행중인 프로그램의 레지스터를 대피하고 해당 코드를 실행한다.
7. 해당 일을 다 처리하면, 대피시킨 레지스터를 복원한다.
8. ISR의 끝에 IRET 명령어에 의해 인터럽트가 해제된다.
9. IRET 명령어가 실행되면, 대피시킨 PC 값을 복원하여 이전 실행 위치로 복원한다.

* 보통 ISR로 들어가면서 CPU코어의 인터럽트 마스크 비트를 자동 설정하고 시작되기 때문에 다른 인터럽트 처리는 대기 상태로 되는 경우가 일반적이다.
* 따라서 ISR 내에서 다른 인터럽트를 처리하고 싶을 경우 이 마스크 비트를 해제 해야 함

<details>
<summary>❓️ polling vs interrupt</summary>
<img src=https://github.com/Shortudy-10th/tech-for-developer/assets/70586307/00e4e67f-fc19-4b45-84a8-4c7b8173a822>

### Polling
폴링은 컴퓨터 프로그램이나 장치가 주기적으로 또는 규칙적으로 **어떤 상태나 조건의 변화를 지속적으로 감지하고 확인**하는 방식을 말한다.
상태가 변화할 때까지 계속해서 확인하고, 이벤트가 발생하면 그 때 처리된다.

## vs interrupt
폴링은 주기적으로 상태를 체크하며 이벤트를 확인하는 방법이고,
인터럽트는 이벤트가 발생할 때만 처리되는 실시간 응답과 같다.

예시를 들면 폴링은 누가 왔는지 계속 문을 열어보면서 확인하는 방법이고,
인터럽트는 벨이 띵 울리면 그때서야 문을 여는 방법이다.
</details>
</details>

<br>

---

</br>


<details>
<summary> ❓️ 컴퓨터의 기본적인 구성 요소에 대해 설명해주세요. </summary>
  
### ❓️ 컴퓨터의 기본적인 구성 요소에 대해 설명해주세요.

<img src =https://github.com/Shortudy-10th/tech-for-developer/assets/70586307/79f631bc-c60c-4a58-8135-0398f198ebe5>

## CPU
* 프로그램을 실행하고 데이터를 처리하는 기능을 수행한다.
* 연산 장치와 제어 장치로 구성된다.
* 컴퓨터의 핵심적인 장치이다.

## Memory
* 작업에 필요한 프로그램과 수치, 명령, 자료 등의 데이터를 기억하는 기억 장치이다.
* RAM과 ROM으로 구성되며, 데이터와 명령어를 임시로 저장한다.

## I/O device
* 키보드, 마우스, 모니터 등과 같은 외부 장치와의 통신을 담당한다.
* 처리한 결과를 사용자가 원하는 형태로 보여준다.
  
## 메인 보드
* CPU와 메모리 등 다양한 부품을 버스라는 가는 선으로 연결한 커다란 판이다.

</details>

<br>

---

</br>

<details>
<summary> ❓️ 운영체제의 중요한 점은 "다중 프로그래밍 (Multi programming)"이 가능하다는 점입니다. 다중 프로그래밍이란 무엇인가요? </summary>

### ❓️ 운영체제의 중요한 점은 "다중 프로그래밍 (Multi programming)"이 가능하다는 점입니다. 다중 프로그래밍이란 무엇인가요?

<img src = https://github.com/Shortudy-10th/tech-for-developer/assets/70586307/dae2136f-c027-4b7f-9560-199abed4411b >

* 컴퓨터 시스템의 운영 방식 중 하나로, 여러 개의 프로세스가 동시에 메모리에 적재되어 실행되는 방식이다.
* 일괄 처리 시스템과 달리 입출력 장치가 일을 하는 동안 cpu가 쉬는 것이 아니라 다른 프로그램에 대해서 일을 계속 하기 때문에 cpu 사용 효율이 증가한다.
* 시스템 자원을 효율적으로 분배하고 관리할 수 있어서, 오늘날 대부분의 운영체제에서 표준 기능으로 구현되어 있다.
  
<br></br>

<details>
<summary>❓️ 다중 프로그래밍이 사용되는 현대 컴퓨터 시스템의 대표적인 예시는 어떤 것들이 있나요? </summary>

<br></br>
1. 개인 컴퓨터 및 노트북
 - 사용자가 여러 개의 응용 프로그램을 동시에 실행하거나 여러 탭 또는 창에서 다양한 작업을 수행할 수 있도록 운영체제가 이러한 작업들을 조율하여 빠르게 전환하며 다중 프로그래밍의 이점을 활용합니다.

2. 서버 및 데이터 센터
 - 여러 클라이언트의 요청을 동시에 처리할 수 있게 웹 서버, DB 서버, 클라우드 컴퓨팅 환경 등에서 다수의 프로세스가 동시에 실행되어 다양한 작업을 처리하며 시스템의 자원 활용도를 최대화합니다.

3. 스마트폰 및 태블릿
 - 스마트폰과 태블릿은 다중 프로그래밍을 활용하여 사용자가 다양한 애플리케이션을 백그라운드에서 실행할 수 있도록 합니다. 
 메시지 앱, 이메일 앱, 브라우저, 음악 앱 등 여러 개의 애플리케이션을 동시에 관리하여 사용자 경험을 향상시킵니다.


이 외에도 거의 모든 컴퓨팅 환경에서 다중 프로그래밍이 적용되어 시스템의 효율성을 향상 시키고 여러 작업을 동시에 처리할 수 있도록 도와줍니다.
<br></br>

</details>

<details>
<summary> ❓️ 일괄 처리 시스템 (batch processing), 시분할 시스템 (time sharing, multitasking), 다중 프로세서 시스템 (multi processor system) </summary>
  
## 일괄 처리 시스템 (batch processing)
  * 문자 그대로 비슷한 작업들을 모아서 일괄 처리 하는 시스템이다.
  * 입출력 장치의 속도가 느려서 cpu가 일을 쉬는 경우가 많았다.

## 시분할 시스템 (time sharing, multitasking) 
* 분할 시스템은 또 다른 말로 멀티태스킹 이라고도 한다.
* 시분할 시스템은 이름 그대로 특정 시간을 정해서 그 시간이 지나면 무조건 다음 작업을 실행하는 방식이다.
* 이 시간이 매우 짧기 때문에 사용자와 컴퓨터는 상호작용을 할 수 있어서 대화식 컴퓨터 시스템 (interactive computer system)이라고 한다.
* 여러 사용자가 동시에 컴퓨터를 사용할 수 있는데 이 때문에 주기억장치의 용량이 부족할 수 있다. 그래서 가상 메모리를 사용한다.

## 다중 프로세서 시스템 (multi processor system)
* 여러 개의 프로세서가 메모리, 클럭 등을 공유하여 사용하는 시스템이다.
* 여러 개의 프로세서를 다중 프로세서 시스템을 사용하는 것이 여러 개의 단일 프로세서 시스템을 사용하는 것보다 저렴하고 신뢰도가 높다고 한다.
  
</details>
</details>

<br>

---

</br>

<details>
<summary> ❓️ 명령어 처리 과정에 대해 설명해주세요. </summary>

### ❓️ 명령어 처리 과정에 대해 설명해주세요.
<br></br>
<img src = https://github.com/Shortudy-10th/tech-for-developer/assets/70586307/8e9fda39-e794-4ad1-abc8-b2a20ed3f6a0 >
<br></br>

⚠️ 이러한 명령어 처리 과정은 컴퓨터 시스템의 핵심 동작이며, CPU의 구조와 아키텍처, 운영체제의 역할에 따라 상세 내용이 달라질 수 있다.


## 1. 프로그램 로드(Load)
사용자 또는 응용 프로그램이 실행할 프로그램이나 명령어들이 메모리에 로드된다. 이때 운영체제는 프로그램의 실행 시작 주소를 알고 있어야 한다.
## 2. 명령어 가져오기 (Fetch)
프로그램 카운터(Program Counter, PC)에 저장된 주소로부터 다음 실행할 명령어를 메모리에서 가져온다.
프로그램 카운터는 현재 실행 중인 명령어의 주소를 가리킨다.
명령어가 "JUMP" 경우, PC는 새로운 값이다.
## 3. 명령어 해석 (Decode)
가져온 명령어는 명령어 레지스터(Instruction Register, IR)에 저장되며, CPU는 이 명령어를 해석한다.
명령어는 어떤 작업을 수행해야 하는지, 어떤 레지스터나 메모리 위치를 사용해야 하는지 등의 정보를 담고 있다.
연산자의 유형에 따라 피연산자 필드를 적절히 나눈다.
## 4. 피연산자 획득 (Fetch Operands)
명령어의 실행에 필요한 피연산자(데이터)를 메모리에서 가져오거나 레지스터에서 읽어온다.
이 단계에서 메모리 접근이 필요한 경우 캐시 메모리 등을 통해 효율적인 데이터 접근을 시도한다.
## 5. 연산 수행 (Execute)
명령어에 지정된 연산을 수행한다.
이 단계에서 CPU는 레지스터를 사용한다.
레지스터 IR의 비트열에 해당하는 신호를 연산장치에 제공하고, 범용 레지스터나 주기억장치에 보내서 기계어 명령어를 수행한다.
## 6. 결과 저장 (Write Back)
연산의 결과를 레지스터나 메모리에 저장한다.
이 단계에서 연산 결과가 다음 명령어나 응용 프로그램에서 사용될 수 있도록 준비된다.
## 7. 프로그램 카운터 갱신 (Update Program Counter)
다음에 실행할 명령어를 가리키는 프로그램 카운터(PC)를 업데이트하여 다음 명령어의 주소로 이동한다.
이를 통해 다음 명령어를 가져와서 처리하게 된다.

</details>
